<?xml version="1.0" encoding="utf-8" ?>
<toolkit:Popup
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    xmlns:toolkit="http://schemas.microsoft.com/dotnet/2022/maui/toolkit"
    x:Class="BookInventoryApp.AddBookPopup"
    Color="Black">

    <ScrollView VerticalScrollBarVisibility="Always">
        <VerticalStackLayout
            BackgroundColor="Black" 
            Padding="25"
            Spacing="14"
            HorizontalOptions="Center"
            WidthRequest="{OnIdiom Phone=350, Tablet=500, Desktop=600}"
            HeightRequest="{OnIdiom Phone=350, Tablet=500, Desktop=650}">

            <!-- Header -->
            <Label Text="Add Book"
                   FontSize="24"
                   FontAttributes="Bold"
                   FontFamily="VictorMono-Bold"
                   HorizontalOptions="Center"
                   TextColor="White"
                   BackgroundColor="Black"
                   Padding="10,6"
                   Margin="10,10,10,10" />

            <!-- Title -->
            <Entry x:Name="TitleEntry"
                   Placeholder="Book title"
                   TextColor="Black"
                   PlaceholderColor="DarkGray"
                   BackgroundColor="#F5F5F5"
                   FontFamily="VictorMono-LightItalic"
                   HeightRequest="45" 
                   HorizontalOptions="Start"
                   WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"/>

            <!-- Type -->
            <Picker x:Name="TypeEntry"
                    Title="Select book type..."
                    TextColor="Black"
                    FontFamily="VictorMono-LightItalic"
                    BackgroundColor="#F5F5F5"
                    HeightRequest="60" 
                    HorizontalOptions="Start"
                    WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                    Margin="5,10,10,10"/>

            <!-- Status -->
            <Picker x:Name="StatusEntry"
                    Title="Select status..."
                    TextColor="Black"
                    FontFamily="VictorMono-LightItalic"
                    BackgroundColor="#F5F5F5"
                    HeightRequest="60" 
                    HorizontalOptions="Start"
                    WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                    Margin="5,10,10,10"/>       

            <!-- Authors -->
            <SearchBar x:Name="AuthorsSearch"
                       Placeholder="Search authors..."
                       TextChanged="OnSearchTextChanged"
                       BackgroundColor="Black"
                       TextColor="White"
                       PlaceholderColor="LightGray"
                       FontFamily="VictorMono-Regular" 
                       HeightRequest="45" 
                       HorizontalOptions="Start"
                       WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                       Margin="5,10,10,10"/>

            <ListView x:Name="FilteredAuthorsView"
                      IsVisible="False"
                      ItemSelected="Authors_ItemSelected"
                      BackgroundColor="#DCD3FF"
                      RowHeight="50"
                      HeightRequest="100"
                      SeparatorVisibility="None" 
                      HorizontalOptions="Start"
                      WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                      Margin="5,10,10,10"/>

            <ListView x:Name="SelectedAuthorsView"
                      IsVisible="False"
                      SelectionMode="None"
                      BackgroundColor="#9370DB"
                      RowHeight="50"
                      HeightRequest="100"
                      SeparatorVisibility="None"
                      HorizontalOptions="Start"
                      WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                      Margin="5,10,10,10"/>   

            <!-- Categories -->
            <SearchBar x:Name="CategoriesSearch"
                       Placeholder="Search categories..."
                       TextChanged="OnCategoriesSearchTextChanged"
                       BackgroundColor="Black"
                       TextColor="White"
                       PlaceholderColor="LightGray"
                       FontFamily="VictorMono-Regular"
                       HeightRequest="45" 
                       HorizontalOptions="Start"
                       WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                       Margin="5,10,10,10"/>

            <ListView x:Name="FilteredCategoriesView"
                      IsVisible="False"
                      ItemSelected="Categories_ItemSelected"
                      BackgroundColor="#DCD3FF"
                      RowHeight="50"
                      HeightRequest="100"
                      SeparatorVisibility="None" 
                      HorizontalOptions="Start"
                      WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                      Margin="5,10,10,10"/>       

            <CollectionView x:Name="SelectedCategoriesView"
                            IsVisible="False"
                            ItemsLayout="HorizontalList"
                            HeightRequest="60"
                            BackgroundColor="#9370DB"
                            WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                            Margin="0,5" />

            <!-- Languages -->
            <SearchBar x:Name="LanguagesSearch"
                       Placeholder="Search languages..."
                       TextChanged="OnLanguagesSearchTextChanged"
                       BackgroundColor="Black"
                       TextColor="White"
                       PlaceholderColor="LightGray"
                       FontFamily="VictorMono-Regular"
                       HeightRequest="45" 
                       HorizontalOptions="Start"
                       WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                       Margin="5,10,10,10"/>   

            <ListView x:Name="FilteredLanguagesView"
                      IsVisible="False"
                      ItemSelected="Languages_ItemSelected"
                      BackgroundColor="#DCD3FF"
                      RowHeight="50"
                      HeightRequest="100"
                      SeparatorVisibility="None" 
                      HorizontalOptions="Start"
                      WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                      Margin="5,10,10,10"/>

            <CollectionView x:Name="SelectedLanguagesView"
                            IsVisible="False"
                            ItemsLayout="HorizontalList"
                            HeightRequest="60"
                            BackgroundColor="#9370DB"
                            HorizontalOptions="Start"
                            WidthRequest="{OnIdiom Phone=250, Tablet=400, Desktop=500}"
                            Margin="5,10,10,10"/>

            <!-- Save Button -->
            <Button Text="Save"
                    Clicked="OnSaveClicked"
                    TextColor="White"
                    BackgroundColor="MediumPurple"
                    FontAttributes="Bold"
                    CornerRadius="10"
                    FontFamily="VictorMono-Bold"
                    HorizontalOptions="Center"
                    WidthRequest="140"
                    HeightRequest="45" />
        </VerticalStackLayout>
    </ScrollView>
</toolkit:Popup>
